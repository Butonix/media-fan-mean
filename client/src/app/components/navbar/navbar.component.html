<nav class="navbar" id="navbar" [style.background]="navbarTransparent ? 'transparent' : '#202a51'">
  <div class="col-md-4">
    <app-search></app-search>
  </div>
  <div class="col-md-4">
    <a id="branding" class="navbar-brand" [routerLink]="['/']">MEDIAFAN</a>
  </div>
  <div class="nav col-md-4" id="nav-links">
    <div class="links-auth" *ngIf="!signedIn">
      <a class="mf-btn-secondary" [routerLink]="['/login']" routerLinkActive="active">Log in</a>
      <a class="mf-btn-secondary" [routerLink]="['/signup']" routerLinkActive="active">Sign up</a>
    </div>

    <div class="links-nav" *ngIf="signedIn && user">
      <a class="chat" [routerLink]="['/chat/', user?.username]">
        <i class="far fa-envelope"></i>
      </a>

      <div class="dropdown">
        <div class="userButton dropdown-toggle" data-toggle="dropdown">
          <img src="{{ profile_photo || user?.profile_photo }}" class="profile_photo" alt=""> 
          <span class="username">
            {{user?.username}}
          </span>
        </div>
        
        <div class="dropdown-menu">
          <a class="dropdown-item" [routerLink]="['/', user?.username]" routerLinkActive="active">Profile</a>
          <a class="dropdown-item" [routerLink]="['/edit/', user?.username]" routerLinkActive="active">Settings</a>
          <a class="dropdown-item" (click)="logout()">Sign Out</a>
        </div>
      </div>
    </div>
  </div>
</nav>